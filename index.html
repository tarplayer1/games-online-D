<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multicreate Launcher</title>
    <link rel="manifest" href="manifest.json">
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 50px;
            background-color: #f0f0f0;
        }
        .button {
            margin: 20px;
            padding: 15px 30px;
            font-size: 18px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
        }
        .button:hover {
            background-color: #45a049;
        }
        .title {
            font-size: 30px;
            font-weight: bold;
            margin-bottom: 20px;
        }
        button {
            display: none;
        }
    </style>
</head>
<body>
    <div class="title">Welcome to Multicreate Launcher</div>
    <p>Select a game mode to start:</p>

    <!-- Mode Selection -->
    <button class="button" onclick="startGame('SurvivalCreate')">Survival Mode</button>
    <button class="button" onclick="startGame('GirlsCreate')">GirlsCreate Mode</button>
    <button class="button" onclick="startGame('SciFiCreate')">Sci-Fi Mode</button>
    <button class="button" onclick="startGame('DungeonCreate')">Dungeon Mode</button>

    <!-- Mods Page Button -->
    <button class="button" onclick="openMods()">Mods for Multicreate</button>

    <!-- Install Button -->
    <button onclick="installApp()">Install Multicreate</button>

    <script>
        function startGame(mode) {
            alert("Launching " + mode + "...");
            window.location.href = mode + ".html"; // Redirect to the selected game mode
        }

        function openMods() {
            window.open('https://raw.githack.com/tarplayer1/multicreate/refs/heads/main/mods%20for%20multicreate.html
', '_blank');
        }

        // Register the service worker for offline functionality
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('service-worker.js').then((reg) => {
                console.log('Service Worker Registered', reg);
            }).catch((err) => {
                console.log('Service Worker registration failed', err);
            });
        }

        // PWA Install logic
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            document.querySelector('button').style.display = 'block';  // Show the install button
        });

        function installApp() {
            deferredPrompt.prompt();
            deferredPrompt.userChoice.then((choiceResult) => {
                if (choiceResult.outcome === 'accepted') {
                    console.log('User accepted the install prompt');
                } else {
                    console.log('User dismissed the install prompt');
                }
                deferredPrompt = null;
            });
        }
    </script>
</body>
</html>
